# ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º v4.8

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–µ–ø–ª–æ—è, –ø—É—Ç–µ–π –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

## üìÅ **–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ |
|------|----------|--------------|
| `deployment-config.json` | **–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ–ø–ª–æ—è** | –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ |
| `DeploymentConfig.psm1` | **PowerShell –º–æ–¥—É–ª—å** | `.automation\config\` |
| `smart-copy-config.json` | **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–º–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** | `.automation\config\` |
| `ai-features-config.json` | **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI —Ñ—É–Ω–∫—Ü–∏–π** | `.automation\config\` |

---

## ‚öôÔ∏è **deployment-config.json - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```json
{
  "environments": {
    "dev": {
      "name": "Development",
      "path": ".",
      "enabled": true
    },
    "prom": {
      "name": "PROM",
      "path": "G:\\OSPanel\\home",
      "enabled": true
    },
    "prod": {
      "name": "PROD",
      "server": "u0488409@37.140.195.19",
      "path": "/var/www/u0488409/data/www",
      "enabled": true
    }
  },
  "deployment": {
    "archivePath": ".\\deploy-archives",
    "backupEnabled": true,
    "excludePatterns": ["node_modules", ".git", "*.log"]
  }
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥:**

#### **DEV —Å—Ä–µ–¥–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):**
```json
"dev": {
  "name": "Development",
  "description": "–°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
  "path": ".",
  "enabled": true
}
```

#### **PROM —Å—Ä–µ–¥–∞ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):**
```json
"prom": {
  "name": "PROM",
  "description": "–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
  "path": "G:\\OSPanel\\home",
  "enabled": true
}
```

#### **PROD —Å—Ä–µ–¥–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω):**
```json
"prod": {
  "name": "PROD",
  "description": "–ü—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–∞",
  "server": "u0488409@37.140.195.19",
  "path": "/var/www/u0488409/data/www",
  "enabled": true
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–ª–æ—è:**

```json
"deployment": {
  "archivePath": ".\\deploy-archives",
  "backupEnabled": true,
  "backupSuffix": "backup",
  "timestampFormat": "yyyy-MM-dd-HH-mm-ss",
  "maxBackups": 5,
  "compressionEnabled": true,
  "excludePatterns": [
    "node_modules",
    ".git",
    ".vs",
    "bin",
    "obj",
    "dist",
    "build",
    "*.log",
    "*.tmp",
    ".DS_Store",
    "Thumbs.db"
  ]
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH:**

```json
"ssh": {
  "timeout": 10,
  "batchMode": true,
  "keyPath": "",
  "knownHosts": ""
}
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

```json
"logging": {
  "enabled": true,
  "level": "INFO",
  "file": "deployment.log",
  "maxSize": "10MB",
  "maxFiles": 5
}
```

---

## üîß **DeploymentConfig.psm1 - PowerShell –º–æ–¥—É–ª—å**

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `Import-DeploymentConfig` | –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é | `Import-DeploymentConfig` |
| `Get-EnvironmentPath` | –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç—å —Å—Ä–µ–¥—ã | `Get-EnvironmentPath -Environment "prom"` |
| `Get-EnvironmentServer` | –ü–æ–ª—É—á–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä —Å—Ä–µ–¥—ã | `Get-EnvironmentServer -Environment "prod"` |
| `Get-ArchivePath` | –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç—å –¥–ª—è –∞—Ä—Ö–∏–≤–æ–≤ | `Get-ArchivePath` |
| `Get-ExcludePatterns` | –ü–æ–ª—É—á–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π | `Get-ExcludePatterns` |
| `Test-EnvironmentPath` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—É—Ç–∏ | `Test-EnvironmentPath -Environment "prom"` |
| `Test-SSHConnection` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ | `Test-SSHConnection -Environment "prod"` |

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö:**

```powershell
# –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è
Import-Module -Name ".\automation\config\DeploymentConfig.psm1" -Force

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ PROM —Å—Ä–µ–¥—ã
$PROM_PATH = Get-EnvironmentPath -Environment "prom"

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ PROD
$Server = Get-EnvironmentServer -Environment "prod"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –¥–ª—è –∞—Ä—Ö–∏–≤–æ–≤
$ArchivePath = Get-ArchivePath

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
if (Test-SSHConnection -Environment "prod") {
    Write-Host "SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" -ForegroundColor Green
}
```

---

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

### **‚úÖ –£–¥–æ–±—Å—Ç–≤–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –ø—É—Ç—å
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Å–∫—Ä–∏–ø—Ç

### **‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥

### **‚úÖ –ì–∏–±–∫–æ—Å—Ç—å:**
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
- –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ä–µ–¥

### **‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ —Å—Ä–µ–¥
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## üìù **–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

### **1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ PROD:**
```json
"prod": {
  "server": "new-server@192.168.1.100",
  "path": "/var/www/new-project"
}
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ä–µ–¥—ã:**
```json
"staging": {
  "name": "STAGING",
  "server": "staging@staging.example.com",
  "path": "/var/www/staging",
  "enabled": true
}
```

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:**
```json
"excludePatterns": [
  "node_modules",
  ".git",
  "*.log",
  "temp",
  "cache"
]
```

### **4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH:**
```json
"ssh": {
  "timeout": 30,
  "batchMode": true,
  "keyPath": "C:\\Users\\User\\.ssh\\id_rsa",
  "knownHosts": "C:\\Users\\User\\.ssh\\known_hosts"
}
```

---

## üîß **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:**

### **–ü—Ä–æ–±–ª–µ–º–∞: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è"**
```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
Test-Path ".\deployment-config.json"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON
Get-Content ".\deployment-config.json" | ConvertFrom-Json
```

### **–ü—Ä–æ–±–ª–µ–º–∞: "–°—Ä–µ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"**
```json
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ —Å—Ä–µ–¥—ã
"environments": {
  "prom": { ... },  // –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  "PROM": { ... }   // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Ä–µ–≥–∏—Å—Ç—Ä –≤–∞–∂–µ–Ω
}
```

### **–ü—Ä–æ–±–ª–µ–º–∞: "SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"**
```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
Test-SSHConnection -Environment "prod"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH
Get-SSHConfig
```

---

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –∫–ª—é—á–∏ –∏ –¥–æ—Å—Ç—É–ø—ã
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥—É–ª—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π!** ‚öôÔ∏è‚ú®
